from termcharts.engine import add_char
from termcharts.engine import render


def test_render():
    screen = {"0-0": "x", "10-20": "@"}
    add_char(screen, [0, 3], "/")

    string = render(screen, 11, 21)
    assert (
        string.replace(" ", "+").replace("\n", "<br>")
        == "x++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>/++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++++<br>++++++++++++++++++++@<br>"
    )
